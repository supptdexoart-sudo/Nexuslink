import{c as T,r as i,G as $,p as r,j as e,_ as K,A as k,m as c,I as z,h as o,$ as R,a0 as M,y as G,l as D,w as F,v as P}from"./index-fCgV4QpA.js";import{C}from"./chevron-right-gaO5w2Fg.js";import"html5-qrcode";/**
 * @license lucide-react v0.395.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=T("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]),U=({playerFuel:x=0,inventory:S=[]})=>{var f,b,N,j;const[A]=i.useState(60),[E,m]=i.useState(null),[l,h]=i.useState(!1),[V,p]=i.useState(0),[u,g]=i.useState(null),d=S.filter(s=>s.type===$.PLANET);i.useEffect(()=>{r("open")},[]);const t=d.find(s=>s.id===E),I=s=>{var a;if(!((a=s.planetConfig)!=null&&a.hasVisited)){r("error"),P([50,50]),g("LOKACE NEPOTVRZENA. Naskenuj fyzickou kartu na herním plánu."),setTimeout(()=>g(null),3e3);return}m(s.id),r("click")},O=()=>{var n;if(!t)return;if(x<(((n=t.planetConfig)==null?void 0:n.scanCost)||10)){r("error");return}h(!0),r("scan"),P([50,50,50]);let s=0;const a=setInterval(()=>{s+=2,p(s),s>=100&&(clearInterval(a),h(!1),p(0),r("success"))},30)},L=s=>s>=100?"IDENTIFIKACE KOMPLETNÍ":s>=66?"POVRCHOVÁ ANALÝZA":s>=33?"ATMOSFÉRICKÁ DATA":"NEZNÁMÝ SIGNÁL";return e.jsxs("div",{className:"h-full w-full bg-[#0a0b0d] flex flex-col overflow-hidden relative",children:[e.jsx("div",{className:"p-6 pb-2 border-b border-white/10 bg-black/50 z-10 backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("div",{className:"p-2 bg-signal-cyan/10 rounded-lg border border-signal-cyan/30",children:e.jsx(K,{className:"w-6 h-6 text-signal-cyan"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black uppercase tracking-tighter text-white font-display chromatic-text",children:"Moje Loď"}),e.jsx("p",{className:"text-[10px] text-zinc-500 font-mono uppercase tracking-[0.3em]",children:"Interceptor Class V-2"})]})]})}),e.jsx(k,{children:u&&e.jsx(c.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:-20,opacity:0},className:"absolute top-24 left-4 right-4 bg-red-900/90 border border-red-500 text-white p-3 rounded-xl z-50 text-center shadow-2xl",children:e.jsxs("p",{className:"text-xs font-bold uppercase tracking-widest flex items-center justify-center gap-2",children:[e.jsx(z,{className:"w-4 h-4"})," ",u]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar p-6 space-y-6 relative z-10",children:e.jsx(k,{mode:"wait",children:t?e.jsxs(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex flex-col h-full",children:[e.jsxs("button",{onClick:()=>m(null),className:"text-xs font-bold text-zinc-500 uppercase mb-4 flex items-center gap-1 hover:text-white",children:[e.jsx(C,{className:"w-4 h-4 rotate-180"})," Zpět na seznam"]}),e.jsxs("div",{className:"relative aspect-square max-h-64 mx-auto mb-6 w-full flex items-center justify-center",children:[e.jsx("div",{className:`w-48 h-48 rounded-full border-2 ${t.discoveryProgress===100?"border-green-500 bg-green-900/20":"border-dashed border-zinc-600 animate-spin-slow"}`}),e.jsx(o,{className:`absolute w-24 h-24 ${t.discoveryProgress===100?"text-green-400":"text-zinc-700 animate-pulse"}`}),l&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-56 h-56 border-t-2 border-signal-cyan rounded-full animate-spin"})})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-black uppercase tracking-widest text-white",children:t.discoveryProgress===100?(f=t.planetConfig)==null?void 0:f.realName:(b=t.planetConfig)==null?void 0:b.unknownName}),e.jsx("p",{className:"text-xs font-mono text-signal-cyan mt-1",children:L(t.discoveryProgress||0)})]}),e.jsxs("div",{className:"w-full bg-zinc-900 h-4 rounded-full overflow-hidden border border-zinc-700 mb-6 relative",children:[e.jsx(c.div,{className:"h-full bg-signal-cyan",initial:{width:0},animate:{width:`${t.discoveryProgress||0}%`}}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-[9px] font-black text-white mix-blend-difference uppercase",children:["Data Průzkumu: ",t.discoveryProgress||0,"%"]})]}),e.jsxs("div",{className:"bg-zinc-900/50 p-4 rounded-xl border border-white/5 mb-6 flex-1 overflow-y-auto",children:[e.jsx("p",{className:"text-[10px] text-zinc-500 font-bold uppercase mb-2",children:"Palubní Deník:"}),e.jsxs("div",{className:"space-y-2 font-mono text-xs text-zinc-300",children:[e.jsx("p",{className:"opacity-50",children:"> Signál zachycen."}),(N=t.planetConfig)==null?void 0:N.layers.filter(s=>(t.discoveryProgress||0)>=s.requiredProgress).map((s,a)=>e.jsxs("p",{className:"text-green-400",children:["> ",s.logText]},a))]})]}),e.jsx("button",{onClick:O,disabled:l||(t.discoveryProgress||0)>=100,className:`w-full py-4 font-black uppercase text-xs tracking-[0.2em] rounded-xl shadow-lg transition-all flex items-center justify-center gap-3 ${(t.discoveryProgress||0)>=100?"bg-green-600 text-white cursor-default":"bg-white text-black hover:bg-signal-cyan"}`,children:l?e.jsxs(e.Fragment,{children:["SKENOVÁNÍ POVRCHU ",V,"%..."]}):(t.discoveryProgress||0)>=100?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"w-4 h-4"})," PLANETA OSVOJENA"]}):e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"w-4 h-4"})," HLOUBKOVÝ SKEN (-",(j=t.planetConfig)==null?void 0:j.scanCost," PALIVA)"]})}),e.jsx("p",{className:"text-[9px] text-zinc-500 text-center mt-3 uppercase",children:"Pro postup v průzkumu naskenujte fyzickou kartu na herním plánu."})]},"detail"):e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(G,{className:"w-4 h-4 text-signal-cyan"}),e.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-white",children:"Aktivní Cíle (Questy)"})]}),e.jsx("div",{className:"space-y-3",children:d.length===0?e.jsxs("div",{className:"text-center py-10 opacity-50 border border-dashed border-zinc-700 rounded-xl",children:[e.jsx(o,{className:"w-12 h-12 text-zinc-600 mx-auto mb-2"}),e.jsx("p",{className:"text-xs font-bold uppercase text-zinc-500",children:"Žádné aktivní signály"}),e.jsx("p",{className:"text-[9px] text-zinc-600 mt-1",children:"Navštivte stanici pro získání souřadnic."})]}):d.map(s=>{var a,n,v,y,w;return e.jsxs("button",{onClick:()=>I(s),className:`w-full p-4 rounded-xl border flex items-center justify-between transition-all active:scale-[0.98] ${(a=s.planetConfig)!=null&&a.hasVisited?"bg-zinc-900/50 border-zinc-800 hover:border-signal-cyan/30":"bg-zinc-900/20 border-zinc-800/50 opacity-60 grayscale"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full border-2 flex items-center justify-center bg-black ${s.discoveryProgress===100?"border-green-500":"border-zinc-700"}`,children:(n=s.planetConfig)!=null&&n.hasVisited?e.jsx(o,{className:`w-6 h-6 ${s.discoveryProgress===100?"text-green-500":"text-zinc-500"}`}):e.jsx(z,{className:"w-5 h-5 text-zinc-600"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm font-bold text-white uppercase tracking-wider",children:s.discoveryProgress===100?(v=s.planetConfig)==null?void 0:v.realName:(y=s.planetConfig)==null?void 0:y.unknownName}),(w=s.planetConfig)!=null&&w.hasVisited?e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:"w-20 h-1.5 bg-black rounded-full overflow-hidden border border-zinc-700",children:e.jsx("div",{className:"h-full bg-signal-cyan",style:{width:`${s.discoveryProgress||0}%`}})}),e.jsxs("span",{className:"text-[9px] text-zinc-500 font-mono",children:[s.discoveryProgress||0,"%"]})]}):e.jsx("p",{className:"text-[9px] text-red-500 font-bold mt-1 uppercase tracking-wider",children:"LOKACE NEPOTVRZENA"})]})]}),e.jsx(C,{className:"w-5 h-5 text-zinc-600"})]},s.id)})}),e.jsxs("div",{className:"mt-8 p-4 bg-zinc-900/30 border border-white/5 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Z,{className:"w-4 h-4 text-zinc-500"}),e.jsx("span",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest",children:"Stav Systémů"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-zinc-400 uppercase font-bold mb-1",children:[e.jsx(D,{className:"w-3 h-3 text-cyan-400"})," Štíty"]}),e.jsx("div",{className:"w-full h-1.5 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-cyan-400",style:{width:`${A}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-zinc-400 uppercase font-bold mb-1",children:[e.jsx(F,{className:"w-3 h-3 text-signal-amber"})," Palivo"]}),e.jsx("div",{className:"w-full h-1.5 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-signal-amber",style:{width:`${x}%`}})})]})]})]})]},"list")})}),e.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-5 z-0",style:{backgroundImage:"radial-gradient(circle, #fff 1px, transparent 1px)",backgroundSize:"30px 30px"}})]})};export{U as default};
