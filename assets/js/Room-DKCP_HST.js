import{r,j as e,U as X,a5 as K,p as de,aS as oe,V as F,m as x,aT as xe,aU as pe,w as J,am as be,aV as me,aW as he,aX as ue,A as z,aF as fe,H as ge,G as je,X as W,n as Ne,F as ke,l as ve,k as we}from"./vendor-B0Ce1M0L.js";import{p as d,P as f,v as _}from"./index-J-j4IqVF.js";import"html5-qrcode";import"./utils-Z5IBgiKl.js";const ye=a=>{switch(a){case f.WARRIOR:return e.jsx(we,{className:"w-3 h-3"});case f.MAGE:return e.jsx(ve,{className:"w-3 h-3"});case f.ROGUE:return e.jsx(ke,{className:"w-3 h-3"});case f.CLERIC:return e.jsx(Ne,{className:"w-3 h-3"});default:return e.jsx(X,{className:"w-3 h-3"})}},Re=({roomState:a,inventory:Y,playerHp:g,scanLog:j=[],onExitToMenu:N,onSendMessage:I,onStartGame:q,onInspectItem:A,onSwapItems:R,userEmail:k,playerClass:b,onToggleReady:C,onKickPlayer:P,activeCharacter:l,isNight:$})=>{var V,U,B,L,S,Z,G,H;const[o,v]=r.useState("party"),[m,T]=r.useState(""),[Q,w]=r.useState(!1),[ee,O]=r.useState(!1),[se,h]=r.useState(!1),[p,y]=r.useState(null),D=r.useRef(null),E=r.useRef(null),u=a.host===a.nickname,i=!a.isInRoom||a.id.startsWith("SOLO-");r.useEffect(()=>{var s,n;(s=D.current)==null||s.scrollIntoView({behavior:"smooth"}),(n=E.current)==null||n.scrollIntoView({behavior:"smooth"})},[a.messages,o,j]);const ae=s=>{s.preventDefault(),m.trim()&&(I(m),T(""),d("message"))},te=()=>{w(!0),d("open"),_(30)},ne=s=>{I(`[NABÍDKA] ${s.title} (ID: ${s.id}) (EMAIL: ${k})`),w(!1),d("success"),_([40,40])},M=s=>{const n=s.match(/\(ID: (.*?)\)/),t=s.match(/\(EMAIL: (.*?)\)/),c=s.replace("[NABÍDKA] ","").split(" (ID:")[0];return{id:n?n[1]:null,email:t?t[1]:null,title:c}},ie=s=>{const n=M(s);n.id&&A&&(A(n.id),d("scan"))},le=(s,n)=>{const t=M(n);t.id&&t.email&&(y({makerNick:s,makerEmail:t.email,makerItemId:t.id,makerItemTitle:t.title}),d("open"),_(30))},re=s=>{p&&R&&k&&(R(p.makerEmail,k,p.makerItemId,s.id),y(null))};return e.jsxs("div",{className:"h-full flex flex-col bg-zinc-950 overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-5 z-0",style:{backgroundImage:"radial-gradient(circle, #fff 1px, transparent 1px)",backgroundSize:"30px 30px"}}),e.jsxs("div",{className:"bg-black/80 backdrop-blur-md border-b border-zinc-800 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 pb-1",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-zinc-900 px-3 py-1 rounded-full border border-zinc-800",children:[e.jsx(X,{className:"w-3 h-3 text-zinc-400"}),e.jsx("span",{className:"text-xs font-mono text-zinc-100 font-bold",children:a.nickname})]}),e.jsxs("button",{onClick:()=>O(!0),className:"flex items-center gap-1 text-red-500 px-2 py-1 bg-red-900/10 rounded border border-red-900/20 active:scale-90 transition-all",children:[e.jsx(K,{className:"w-3 h-3"}),e.jsx("span",{className:"text-[9px] font-bold uppercase",children:i?"Ukončit Solo":"Opustit"})]})]}),!i&&e.jsxs("div",{className:"flex px-2",children:[e.jsxs("button",{onClick:()=>v("party"),className:`flex-1 py-3 text-xs font-bold uppercase border-b-2 transition-colors ${o==="party"?"border-signal-amber text-white":"border-transparent text-zinc-400"}`,children:["Jednotka (",((V=a.members)==null?void 0:V.length)??0,")"]}),e.jsx("button",{onClick:()=>v("chat"),className:`flex-1 py-3 text-xs font-bold uppercase border-b-2 transition-colors ${o==="chat"?"border-signal-amber text-white":"border-transparent text-zinc-400"}`,children:"Spojení"}),e.jsx("button",{onClick:()=>v("trade"),className:`flex-1 py-3 text-xs font-bold uppercase border-b-2 transition-colors ${o==="trade"?"border-signal-amber text-white":"border-transparent text-zinc-400"}`,children:"Burza"})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar relative z-10",children:[o==="party"&&e.jsxs("div",{className:"p-3 space-y-3",children:[e.jsxs("div",{className:"bg-zinc-900/50 p-4 rounded-2xl border border-zinc-800 relative overflow-hidden",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-6",children:[e.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded bg-black/40 border ${a.isGameStarted||i?"border-green-500/30 text-green-500":"border-red-500/30 text-red-500"}`,children:[e.jsx(de,{className:"w-2.5 h-2.5"}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:i?"NEZÁVISLÁ_JEDNOTKA":a.isGameStarted?"MISE_PROBÍHÁ":"SYSTÉM_PŘIPRAVEN"})]}),!i&&u&&e.jsx("div",{className:"bg-signal-amber/10 text-signal-amber px-2 py-1 rounded text-[9px] font-black uppercase tracking-widest border border-signal-amber/30",children:"AUTORITA_SEKTORU"}),!i&&!u&&a.host&&e.jsxs("div",{className:"bg-zinc-800 text-zinc-500 px-2 py-1 rounded text-[9px] font-black uppercase tracking-widest border border-zinc-700",children:["Hostitel: ",a.host]})]}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[10px] font-bold uppercase text-zinc-500 tracking-[0.2em] block mb-1",children:"Označení_Sektoru"}),e.jsx("span",{className:"text-xl font-mono font-black text-white leading-tight",children:i?"LOKÁLNÍ_BATOH":a.id})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase text-zinc-500 tracking-[0.2em] block mb-1",children:"Cyklus"}),e.jsx("span",{className:"text-3xl font-mono font-black text-signal-cyan leading-none",children:i?1:a.roundNumber})]})]}),!i&&!a.isGameStarted&&e.jsxs("div",{className:"mt-6 flex gap-2",children:[C&&e.jsx("button",{onClick:C,className:`flex-1 py-4 font-black uppercase rounded-xl transition-all active:scale-95 border ${(U=(a.members||[]).find(s=>s.name===a.nickname))!=null&&U.isReady?"bg-green-500/10 border-green-500 text-green-500":"bg-zinc-800 border-zinc-700 text-zinc-400 hover:text-white"}`,children:(B=(a.members||[]).find(s=>s.name===a.nickname))!=null&&B.isReady?"JSME PŘIPRAVENI":"POTVRDIT PŘIPRAVENOST"}),u&&e.jsxs("button",{onClick:q,disabled:!(a.members||[]).every(s=>s.isReady),className:`flex-1 py-4 font-black uppercase rounded-xl flex items-center justify-center gap-3 transition-transform shadow-[0_0_20px_rgba(255,157,0,0.3)] active:scale-95 cursor-pointer ${(a.members||[]).length>0&&(a.members||[]).every(s=>s.isReady)?"bg-signal-amber text-black opacity-100":"bg-zinc-800 text-zinc-500 opacity-50 cursor-not-allowed shadow-none"}`,children:[e.jsx(oe,{className:"w-5 h-5 fill-current"}),"START"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.3em] pl-1",children:"Aktivní_Jednotky_V_Dosahu"}),i?e.jsxs("div",{className:"bg-black border border-signal-cyan/30 bg-signal-cyan/5 p-4 rounded-xl flex items-center gap-4 shadow-[inset_0_0_20px_rgba(0,242,255,0.05)]",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center font-black text-lg border-2 border-signal-cyan bg-signal-cyan/10 text-signal-cyan",children:a.nickname.substring(0,2).toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("button",{onClick:()=>{l?h(!0):d("error")},className:"flex items-center gap-2 hover:opacity-80 active:scale-95 transition-all group cursor-help",children:[e.jsx("span",{className:"font-black text-white uppercase tracking-wider group-hover:text-signal-cyan transition-colors",children:a.nickname}),b&&e.jsxs("div",{className:"flex items-center gap-1 px-1.5 py-0.5 bg-zinc-800 rounded border border-zinc-700",children:[ye(b),e.jsx("span",{className:"text-[8px] font-mono text-zinc-400 uppercase font-bold",children:b})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(F,{className:"w-3 h-3 text-signal-hazard"}),e.jsxs("span",{className:"font-mono font-black text-sm text-white",children:[g??100," HP"]})]})]}),e.jsx("div",{className:"h-2 bg-zinc-800 rounded-full overflow-hidden border border-white/5",children:e.jsx(x.div,{initial:{width:0},animate:{width:`${g??100}%`},className:`h-full transition-all duration-500 ${(g??100)<30?"bg-red-600 shadow-[0_0_10px_rgba(220,38,38,0.5)]":"bg-signal-cyan shadow-[0_0_10px_rgba(0,242,255,0.3)]"}`})})]})]}):(L=a.members)==null?void 0:L.map((s,n)=>{const t=s.name===a.nickname,c=a.isGameStarted&&a.turnOrder[a.turnIndex]===s.name;return e.jsxs("div",{className:`bg-black border p-4 rounded-xl flex items-center gap-4 transition-all ${t?"border-signal-cyan/30 bg-signal-cyan/5 shadow-[inset_0_0_20px_rgba(0,242,255,0.05)]":"border-zinc-800"} ${c?"ring-2 ring-signal-amber border-signal-amber bg-signal-amber/5 animate-pulse":""}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm border-2 ${t?"border-signal-cyan bg-signal-cyan/10 text-signal-cyan":c?"border-signal-amber bg-signal-amber/10 text-signal-amber":"border-zinc-700 bg-zinc-900 text-zinc-300"}`,children:s.name.substring(0,2).toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[t?e.jsxs("button",{onClick:()=>{l?h(!0):d("error")},className:"flex items-center gap-2 hover:opacity-80 active:scale-95 transition-all group cursor-help text-left",children:[e.jsx("span",{className:"font-bold text-sm text-white group-hover:text-signal-cyan transition-colors",children:s.name}),e.jsx("div",{className:"flex items-center gap-1 px-1.5 py-0.5 bg-black/50 rounded border border-white/10",children:e.jsx("span",{className:"text-[7px] font-mono text-zinc-400 uppercase font-bold",children:b})})]}):e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"font-bold text-sm text-zinc-200",children:s.name})}),e.jsxs("div",{className:"flex items-center gap-3",children:[!a.isGameStarted&&e.jsx("div",{className:`w-3 h-3 rounded-full border ${s.isReady?"bg-green-500 border-green-400 shadow-[0_0_8px_lime]":"bg-transparent border-zinc-600"}`}),u&&!t&&e.jsx("button",{onClick:ce=>{ce.stopPropagation(),P&&P(s.name),d("error")},className:"p-1.5 bg-red-500/10 hover:bg-red-500/20 text-red-500 rounded border border-red-500/30 transition-colors group/kick",title:"Kick player",children:e.jsx(xe,{className:"w-3 h-3 group-hover/kick:scale-110 transition-transform"})}),e.jsxs("span",{className:`font-mono font-bold text-xs ${s.hp<30?"text-red-500":"text-green-500"}`,children:[s.hp," HP"]})]})]}),e.jsx("div",{className:"h-1.5 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-500 ${s.hp<30?"bg-red-600 shadow-[0_0_8px_rgba(220,38,38,0.5)]":"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.3)]"}`,style:{width:`${Math.min(100,Math.max(0,s.hp))}%`}})})]})]},n)})]}),i&&e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 pl-1 mb-2",children:[e.jsx(pe,{className:"w-4 h-4 text-signal-cyan"}),e.jsx("h3",{className:"text-[10px] font-black text-white/70 uppercase tracking-[0.3em]",children:"Průzkumný_Deník"})]}),e.jsxs("div",{className:"bg-zinc-900/40 border border-white/5 rounded-xl p-4 h-[250px] overflow-y-auto no-scrollbar font-mono text-[10px] space-y-2 relative",children:[j.length===0?e.jsx("div",{className:"h-full flex items-center justify-center text-zinc-600 italic",children:"Čekám na záznam dat..."}):j.map((s,n)=>e.jsxs(x.div,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},key:n,className:"flex gap-2 text-zinc-400 border-l border-zinc-700 pl-2 py-0.5",children:[e.jsxs("span",{className:"text-signal-cyan/50",children:["[",new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),"]"]}),e.jsx("span",{className:"text-zinc-300",children:s})]})),e.jsx("div",{ref:E}),e.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[inset_0_0_40px_rgba(0,0,0,0.5)]"})]})]})]}),o==="chat"&&!i&&e.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 no-scrollbar",children:[a.messages.map(s=>{const n=s.text.startsWith("[NABÍDKA]");return e.jsx("div",{className:`flex flex-col ${s.sender===a.nickname?"items-end":"items-start"}`,children:s.isSystem?e.jsx("div",{className:"w-full text-center my-2",children:e.jsx("span",{className:"text-[9px] bg-zinc-900 px-3 py-1 rounded text-zinc-500 font-mono uppercase tracking-widest border border-white/5",children:s.text})}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-[9px] font-black uppercase text-zinc-500 mb-1",children:s.sender}),n?e.jsxs("div",{className:`p-4 rounded-2xl max-w-[90%] border bg-black overflow-hidden relative ${s.sender===a.nickname?"border-signal-amber/50 rounded-tr-none":"border-signal-cyan/50 rounded-tl-none"}`,children:[e.jsx("div",{className:`absolute top-0 left-0 w-full h-0.5 animate-pulse ${s.sender===a.nickname?"bg-signal-amber":"bg-signal-cyan"}`}),e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:`p-2 rounded-lg bg-white/5 ${s.sender===a.nickname?"text-signal-amber":"text-signal-cyan"}`,children:e.jsx(J,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] font-black uppercase text-zinc-500 mb-0.5 tracking-widest",children:"Sektorový_Transfer"}),e.jsx("p",{className:"text-sm font-bold text-white uppercase leading-tight",children:s.text.replace("[NABÍDKA] ","").split(" (ID:")[0]})]})]}),s.sender!==a.nickname&&e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[e.jsxs("button",{onClick:()=>ie(s.text),className:"flex items-center justify-center gap-2 py-2.5 bg-zinc-800 hover:bg-zinc-700 text-white rounded-lg text-[10px] font-black uppercase tracking-wider transition-colors",children:[e.jsx(be,{className:"w-3 h-3"})," Inspekce"]}),e.jsxs("button",{onClick:()=>le(s.sender,s.text),className:"flex items-center justify-center gap-2 py-2.5 bg-signal-cyan text-black hover:bg-white rounded-lg text-[10px] font-black uppercase tracking-wider transition-colors shadow-[0_0_10px_rgba(0,242,255,0.2)]",children:[e.jsx(me,{className:"w-3 h-3"})," Převzít"]})]})]}):e.jsx("div",{className:`p-3 rounded-2xl text-sm max-w-[85%] ${s.sender===a.nickname?"bg-signal-cyan/10 border border-signal-cyan/30 text-white rounded-tr-none":"bg-zinc-800 text-zinc-100 rounded-tl-none"}`,children:s.text})]})},s.id)}),e.jsx("div",{ref:D})]}),e.jsxs("form",{onSubmit:ae,className:"p-3 bg-black border-t border-zinc-800 flex gap-2",children:[e.jsx("input",{type:"text",value:m,onChange:s=>T(s.target.value),placeholder:"Zpráva sektoru...",className:"flex-1 bg-zinc-900 border border-zinc-800 rounded-xl px-4 py-3 text-white outline-none focus:border-signal-cyan text-sm"}),e.jsx("button",{type:"submit",disabled:!m.trim(),className:"bg-signal-cyan text-black p-3 rounded-xl active:scale-90",children:e.jsx(he,{className:"w-5 h-5"})})]})]}),o==="trade"&&!i&&e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 bg-white/5 border border-white/10 rounded-3xl text-center space-y-4",children:[e.jsx(ue,{className:"w-12 h-12 text-signal-amber animate-pulse"}),e.jsx("h3",{className:"text-xl font-black uppercase tracking-widest",children:"Sektorová_Burza"}),e.jsx("p",{className:"text-xs text-zinc-500 font-mono leading-relaxed",children:"Zde můžete směňovat assety z Batohu s ostatními jednotkami v sektoru v reálném čase."}),e.jsx("button",{onClick:te,className:"px-6 py-3 bg-signal-amber text-black font-black uppercase text-[10px] tracking-widest rounded-xl shadow-[0_0_20px_rgba(255,157,0,0.2)]",children:"Vytvořit Nabídku"})]})})]}),e.jsx(z,{children:ee&&e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[300] bg-black/98 backdrop-blur-2xl flex flex-col items-center justify-center p-8 text-center",children:e.jsxs(x.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"w-full max-w-sm space-y-10",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-red-950/20 border border-red-500/50 rounded-full flex items-center justify-center mx-auto shadow-[0_0_30px_rgba(239,68,68,0.2)]",children:e.jsx(K,{className:"w-10 h-10 text-red-500"})}),e.jsx("h2",{className:"text-3xl font-black text-white uppercase tracking-tighter chromatic-text",children:"Odpojení"}),e.jsxs("p",{className:"text-sm text-zinc-500 font-bold uppercase tracking-widest",children:["Opouštíte Sektor ",i?"LOKÁLNÍ":a.id,". Jak chcete pokračovat?"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:N,className:"w-full group p-5 bg-zinc-900 border border-zinc-700 hover:border-signal-cyan rounded-2xl flex items-center gap-5 transition-all active:scale-95 text-left",children:[e.jsx("div",{className:"p-3 bg-signal-cyan/10 rounded-xl text-signal-cyan group-hover:scale-110 transition-transform",children:e.jsx(fe,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-white uppercase text-sm tracking-widest",children:"Založit Nový Sektor"}),e.jsx("p",{className:"text-[10px] text-zinc-500 uppercase font-bold mt-1",children:"Vytvořit novou místnost pro skupinu"})]})]}),e.jsxs("button",{onClick:N,className:"w-full group p-5 bg-zinc-900 border border-zinc-700 hover:border-signal-amber rounded-2xl flex items-center gap-5 transition-all active:scale-95 text-left",children:[e.jsx("div",{className:"p-3 bg-signal-amber/10 rounded-xl text-signal-amber group-hover:scale-110 transition-transform",children:e.jsx(ge,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-white uppercase text-sm tracking-widest",children:"Vstoupit do jiného Sektoru"}),e.jsx("p",{className:"text-[10px] text-zinc-500 uppercase font-bold mt-1",children:"Zadat kód pro připojení k jednotce"})]})]}),e.jsxs("button",{onClick:N,className:"w-full group p-5 bg-zinc-900 border border-zinc-700 hover:border-white rounded-2xl flex items-center gap-5 transition-all active:scale-95 text-left",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-xl text-white group-hover:scale-110 transition-transform",children:e.jsx(je,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-white uppercase text-sm tracking-widest",children:"Samostatná Mise (Online)"}),e.jsx("p",{className:"text-[10px] text-zinc-500 uppercase font-bold mt-1",children:"Pokračovat sólo se synchronizací Vaultu"})]})]})]}),e.jsx("button",{onClick:()=>O(!1),className:"text-zinc-500 text-[10px] font-black uppercase tracking-[0.4em] hover:text-white transition-colors",children:"Zrušit a zůstat v misi"})]})})}),e.jsx(z,{children:se&&l&&e.jsx(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[400] bg-black/98 backdrop-blur-2xl flex items-center justify-center p-6",children:e.jsxs(x.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},className:"w-full max-w-sm tactical-card border-signal-cyan/30 bg-black p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-signal-cyan to-transparent"}),e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:l.name}),e.jsx("p",{className:"text-[10px] text-signal-cyan font-black uppercase tracking-widest opacity-80",children:"Přehled Jednotky"})]}),e.jsx("button",{onClick:()=>h(!1),className:"p-2 bg-white/5 rounded-full text-zinc-500 hover:text-white transition-colors",children:e.jsx(W,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[e.jsxs("div",{className:"p-3 bg-zinc-900/50 rounded-xl border border-white/5",children:[e.jsx("p",{className:"text-[8px] text-zinc-500 uppercase font-black mb-1",children:"Základní HP"}),e.jsx("p",{className:"text-lg font-mono font-black text-white",children:((S=l.baseStats)==null?void 0:S.hp)||100})]}),e.jsxs("div",{className:"p-3 bg-zinc-900/50 rounded-xl border border-white/5",children:[e.jsx("p",{className:"text-[8px] text-zinc-500 uppercase font-black mb-1",children:"Základní Mana"}),e.jsx("p",{className:"text-lg font-mono font-black text-white",children:((Z=l.baseStats)==null?void 0:Z.mana)||0})]}),e.jsxs("div",{className:"p-3 bg-zinc-900/50 rounded-xl border border-white/5",children:[e.jsx("p",{className:"text-[8px] text-zinc-500 uppercase font-black mb-1",children:"Základní Armor"}),e.jsx("p",{className:"text-lg font-mono font-black text-white",children:((G=l.baseStats)==null?void 0:G.armor)||0})]}),e.jsxs("div",{className:"p-3 bg-zinc-900/50 rounded-xl border border-white/5",children:[e.jsx("p",{className:"text-[8px] text-zinc-500 uppercase font-black mb-1",children:"Základní DMG"}),e.jsx("p",{className:"text-lg font-mono font-black text-white",children:((H=l.baseStats)==null?void 0:H.damage)||0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-black text-white/40 uppercase tracking-[0.3em]",children:"Instalované_Moduly_(Perky)"}),e.jsx("div",{className:"space-y-2 max-h-[220px] overflow-y-auto no-scrollbar pr-1",children:l.perks&&l.perks.length>0?l.perks.map((s,n)=>{const t=s.effect.condition||"always",c=t==="always"||t==="night"&&$||t==="day"&&!$;return e.jsxs("div",{className:`p-3 rounded-xl border transition-all ${c?"bg-signal-cyan/5 border-signal-cyan/20":"bg-zinc-900/20 border-white/5 opacity-50"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:`text-xs font-black uppercase ${c?"text-signal-cyan":"text-zinc-500"}`,children:s.name}),e.jsx("span",{className:`text-[8px] px-1.5 py-0.5 rounded font-black uppercase ${c?"bg-signal-cyan/20 text-signal-cyan":"bg-zinc-800 text-zinc-600"}`,children:t==="always"?"Trvalý":t==="night"?"Noční":t==="day"?"Denní":"Bojový"})]}),e.jsx("p",{className:"text-[10px] text-zinc-400 font-medium leading-tight",children:s.description}),e.jsxs("div",{className:"mt-2 flex items-center gap-1.5 text-[9px] font-mono font-bold text-zinc-500",children:[e.jsx(F,{className:"w-2.5 h-2.5"}),e.jsxs("span",{children:["Modifikátor: ",s.effect.stat.toUpperCase()," ",s.effect.modifier>0?"+":"",s.effect.modifier,s.effect.isPercentage?"%":""]})]})]},n)}):e.jsx("p",{className:"text-[10px] text-zinc-600 italic",children:"Žádné moduly nejsou nainstalovány."})})]}),e.jsx("button",{onClick:()=>h(!1),className:"w-full mt-8 py-4 bg-zinc-900 border border-white/10 text-white font-black uppercase text-xs tracking-[0.2em] rounded-xl active:scale-95 transition-all",children:"Zavřít Diagnostiku"})]})})}),e.jsx(z,{children:(Q||p)&&e.jsxs(x.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-[100] bg-black/95 backdrop-blur-xl flex flex-col p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl font-black uppercase tracking-widest text-white",children:p?"Vyberte_Protihodnotu":"Vyberte_Asset_z_Batohu"}),e.jsx("button",{onClick:()=>{w(!1),y(null)},className:"p-2 bg-white/5 rounded-full text-zinc-400",children:e.jsx(W,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar space-y-4",children:Y.map(s=>e.jsxs("button",{onClick:()=>{p?re(s):ne(s)},className:"w-full p-4 tactical-card border-white/10 bg-white/5 flex gap-4 text-left active:scale-[0.98] group overflow-hidden",children:[e.jsx("div",{className:"w-14 h-14 bg-black border border-zinc-800 rounded-lg flex items-center justify-center shrink-0",children:e.jsx(J,{className:"w-7 h-7 text-signal-cyan"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-[11px] font-black uppercase text-white truncate block",children:s.title}),e.jsx("p",{className:"text-[9px] text-zinc-500 font-mono line-clamp-2 uppercase italic",children:s.description})]})]},s.id))})]})})]})};export{Re as default};
